@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;

    --card: 222 47% 9%;
    --card-foreground: 210 40% 98%;
    --card-elevated: 222 47% 12%;

    --popover: 222 47% 9%;
    --popover-foreground: 210 40% 98%;

    --primary: 174 72% 50%;
    --primary-foreground: 222 47% 6%;
    --primary-glow: 174 72% 60%;

    --secondary: 222 30% 18%;
    --secondary-foreground: 210 40% 98%;

    --muted: 222 30% 15%;
    --muted-foreground: 215 20% 55%;

    --accent: 174 72% 50%;
    --accent-foreground: 222 47% 6%;

    --success: 142 76% 45%;
    --success-foreground: 0 0% 100%;
    --success-glow: 142 76% 55%;

    --error: 0 84% 55%;
    --error-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;

    --heart: 350 89% 60%;
    --xp: 45 93% 58%;

    --destructive: 0 84% 55%;
    --destructive-foreground: 210 40% 98%;

    --border: 222 30% 18%;
    --input: 222 30% 15%;
    --ring: 174 72% 50%;

    --radius: 1rem;

    --font-sans: 'Inter', system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', monospace;

    --sidebar-background: 222 47% 6%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 174 72% 50%;
    --sidebar-primary-foreground: 222 47% 6%;
    --sidebar-accent: 222 30% 15%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 222 30% 18%;
    --sidebar-ring: 174 72% 50%;
  }

  .dark {
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: var(--font-sans);
  }

  code, pre, .font-mono {
    font-family: var(--font-mono);
  }
}

@layer components {
  .glass-card {
    @apply bg-card/80 backdrop-blur-xl border border-border/50 rounded-2xl;
  }

  .glow-primary {
    box-shadow: 0 0 30px -5px hsl(var(--primary) / 0.4);
  }

  .glow-success {
    box-shadow: 0 0 30px -5px hsl(var(--success) / 0.5);
  }

  .glow-error {
    box-shadow: 0 0 20px -5px hsl(var(--error) / 0.5);
  }

  .gradient-primary {
    background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
  }

  .gradient-success {
    background: linear-gradient(135deg, hsl(var(--success)), hsl(var(--success-glow)));
  }

  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
  }

  .code-block {
    @apply bg-card-elevated rounded-xl p-4 font-mono text-sm border border-border/30;
  }

  .lesson-card {
    @apply glass-card p-4 transition-all duration-300 hover:scale-[1.02] hover:border-primary/30 cursor-pointer;
  }

  .exercise-input {
    @apply bg-primary/20 border-2 border-primary/50 rounded-lg px-3 py-1 font-mono text-primary 
           focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/30 
           min-w-[80px] text-center transition-all;
  }

  .exercise-input-correct {
    @apply bg-success/20 border-success text-success;
  }

  .exercise-input-wrong {
    @apply bg-error/20 border-error text-error animate-shake;
  }

  .progress-bar {
    @apply h-2 bg-muted rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-full gradient-primary rounded-full transition-all duration-500;
  }

  .heart-icon {
    @apply text-[hsl(var(--heart))] drop-shadow-[0_0_8px_hsl(var(--heart)/0.5)];
  }

  .xp-badge {
    @apply bg-[hsl(var(--xp))] text-[hsl(var(--xp-foreground,0_0%_0%))] font-bold px-3 py-1 rounded-full text-sm;
    box-shadow: 0 0 15px -3px hsl(var(--xp) / 0.5);
  }
}

@layer utilities {
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px -5px hsl(var(--success) / 0.5); }
    50% { box-shadow: 0 0 40px -5px hsl(var(--success) / 0.8); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  @keyframes celebrate {
    0% { transform: scale(0) rotate(0deg); opacity: 0; }
    50% { transform: scale(1.2) rotate(10deg); opacity: 1; }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
  }

  @keyframes slide-up {
    0% { transform: translateY(20px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  @keyframes fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  .animate-shake {
    animation: shake 0.3s ease-in-out;
  }

  .animate-pulse-glow {
    animation: pulse-glow 1s ease-in-out infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-celebrate {
    animation: celebrate 0.5s ease-out forwards;
  }

  .animate-slide-up {
    animation: slide-up 0.4s ease-out forwards;
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }
}
